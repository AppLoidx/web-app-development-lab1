<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SVG</title>

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="table.css">
    <link href="https://fonts.googleapis.com/css?family=Lobster&display=swap" rel="stylesheet">

    <!--    Font Awesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.4.1/css/simple-line-icons.min.css">


</head>
<body>
    <script src="jquery-3.4.1.js"></script>
    <script>

           const onXInpChange = function(){
               let elem = $("#x-value-select");
               let value = Number(elem.val());

               if (value < -3 ||  value > 5 || isNaN(value) || /[\s]+/.test(elem.val())){
                   elem.removeClass().addClass("is-invalid");
               }else {
                   elem.removeClass().addClass("is-valid");
               }
           };

           const submit = function(e) {
               e.preventDefault();

                   const formData = new FormData(document.querySelector('#form'));
                   fetch('php/check.php', {
                       method: 'POST',
                       body: formData,
                   })
                       .then(ans => ans.text())
                       .then(t => console.log(t))
                       .then(table => document.querySelector('#ans').innerHTML=table);
               };



           document.addEventListener('DOMContentLoaded', function(){
               document.querySelector('#submitButton').addEventListener('click', submit);
           });
    </script>

    <div class="wrapper">


    <header class="header">
        <span>Вариант 212013</span>
        <span class="student-name">Arthur Kupriyanov, P3112</span>
    </header>
    <div class="content">

        <div class="svg-container">
            <svg width="300" height="300" class="svg-graph" xmlns="http://www.w3.org/2000/svg">

    <!--            Линии оси-->

                <line x1="0" x2="300" y1="150" y2="150" stroke="black"></line>
                <line x1="150" x2="150" y1="0" y2="300" stroke="black"></line>
                <polygon points="150,0 144,15 156,15" stroke="black"></polygon>
                <polygon points="300,150 285,156 285,144" stroke="black"></polygon>

                <line class="coor-line" x1="200" x2="200" y1="155" y2="145" stroke="black"></line>
                <line class="coor-line" x1="250" x2="250" y1="155" y2="145" stroke="black"></line>

                <line class="coor-line" x1="50"  x2="50"  y1="155" y2="145" stroke="black"></line>
                <line class="coor-line" x1="100" x2="100" y1="155" y2="145" stroke="black"></line>

                <line class="coor-line" x1="145" x2="155" y1="100" y2="100" stroke="black"></line>
                <line class="coor-line" x1="145" x2="155" y1="50"  y2="50"  stroke="black"></line>

                <line class="coor-line" x1="145" x2="155" y1="200" y2="200" stroke="black"></line>
                <line class="coor-line" x1="145" x2="155" y1="250" y2="250" stroke="black"></line>

                <text class="coor-text" x="195" y="140">R/2</text>
                <text class="coor-text" x="248" y="140">R</text>

                <text class="coor-text" x="40" y="140">-R</text>
                <text class="coor-text" x="90" y="140">-R/2</text>

                <text class="coor-text" x="160" y="105">R/2</text>
                <text class="coor-text" x="160" y="55">R</text>

                <text class="coor-text" x="160" y="205">-R/2</text>
                <text class="coor-text" x="160" y="255">-R</text>

                <!-- first figure-->
                <polygon class="svg-figure rectangle-figure" points="100,150 100,50 150,50, 150,150"
                         fill="blue" fill-opacity="0.3" stroke="blue"></polygon>

                <!-- second figure circle-->
                <path class="svg-figure circle-figure" d="M 200 150 A 50 50, 90, 0, 0, 150 100 L 150 150 Z"
                      fill="green" fill-opacity="0.3" stroke="green"></path>

                <!-- third figure-->
                <polygon class="svg-figure triangle-figure" points="50,150 150,150 150,200"
                         fill="yellow" fill-opacity="0.3" stroke="yellow"></polygon>
            </svg>
        </div>

        <form class="data-send-form" id="form">
            <div class="form-inputs">
                <label for="r-value-select" class="form-label">R: </label>
                <select id="r-value-select" name="r_value">
                    <option value="1">1</option>
                    <option>1.5</option>
                    <option>2</option>
                    <option>2.5</option>
                    <option>3</option>
                </select>

                <label for="x-value-select">X: </label>
                <input id="x-value-select" name="x_value" type="text" placeholder="-3 ... 5" oninput="onXInpChange()"/>

                <label for="y-value-select" class="form-label">Y: </label>
                <select id="y-value-select" name="y_value">
                    <option value="-4">-4</option>
                    <option>-3</option>
                    <option>-2</option>
                    <option>-1</option>
                    <option>0</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                </select>
            </div>


            <div class="form-buttons">
                <button class="send-button" type="submit" id="submitButton">Отправить</button>
                <button class="clear-button" type="button">Очистить</button>
            </div>

        </form>

        <div class="table-wrapper">

            <div class="table">
                <div class="table-header">
                    <div class="header__item"><a id="x-table" class="filter__link" href="#">X</a></div>
                    <div class="header__item"><a id="y-table" class="filter__link filter__link--number" href="#">Y</a></div>
                    <div class="header__item"><a id="r-table" class="filter__link filter__link--number" href="#">R</a></div>
                    <div class="header__item"><a id="result-table" class="filter__link filter__link--number" href="#">result</a></div>
                    <div class="header__item"><a id="time-table" class="filter__link filter__link--number" href="#">Time</a></div>
                    <div class="header__item"><a id="cr-time-table" class="filter__link filter__link--number" href="#">Current Time</a></div>
                </div>
                <div class="table-content">
                    <div class="table-row">
                        <div class="table-data">2</div>
                        <div class="table-data">0</div>
                        <div class="table-data">4</div>
                        <div class="table-data">True</div>
                        <div class="table-data">00:30:02</div>
                        <div class="table-data">23.1266</div>
                    </div>
                    <div class="table-row">
                        <div class="table-data">0</div>
                        <div class="table-data">0</div>
                        <div class="table-data">0</div>
                        <div class="table-data">True</div>
                        <div class="table-data">15:56:44</div>
                        <div class="table-data">20.9808</div>
                    </div>
                    <div class="table-row">
                        <div class="table-data">0</div>
                        <div class="table-data">-5</div>
                        <div class="table-data">0</div>
                        <div class="table-data">False</div>
                        <div class="table-data">16:15:10</div>
                        <div class="table-data">126.1234</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

        <footer>
            <div class="centered">
                <span class="student-name-footer">&copy;Arthur Kupriyanov 2019</span>
                <p class="github-icon">
                    <a href="https://github.com/AppLoidx/web-app-development-lab1">
                        <i class="fa fa-github"></i>
                    </a>
                </p>
            </div>

        </footer>
    </div>



</body>
</html>
